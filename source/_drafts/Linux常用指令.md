---
title: Linux常用指令
date: 2017/10/17 20:53:43
tags:
- Linux
---
## 常用终端快捷键 

| 功能                        | 快捷键组合           |
| ------------------------- | --------------- |
| 打开新的终端窗口                  | Ctrl Shift n    |
| 打开新的终端标签                  | Ctrl Shift t    |
| 切换到第n个终端标签                | Alt n           |
| 清屏                        | Ctrl l          |
| 相当于exit                   | Ctrl d          |
| 剪切光标到命令提示符之间的所有字符         | Ctrl u          |
| 暂停应用程序  再输入fg - 重新将程序唤到前台 | Ctrl z          |
| 剪切光标至行末的内容                | CTRL + K        |
| 粘贴                        | CTRL + Y        |
| 移动光标到行末                   | CTRL + E        |
| 移动光标到行首                   | CTRL + A        |
| 跳向下一个空格                   | ALT + F         |
| 跳回上一个空格                   | ALT + B         |
| 删除前一个单词                   | ALT + Backspace |
| 剪切光标前一个单词                 | CTRL + W        |
| 向终端内粘贴文本                  | Shift + Insert  |
|                           |                 |

<!--more-->

## 常用操作

### 绝对路径和相对路径 

* 绝对路径：从根目录开始的路径，一定以 / 开头 
* 相对路径：从当前目录开始的路径，一定不以 / 开头，而可以以 .. , . 开头，其中 .. 代表当前目录的上一层目录， . 代表当前目录。



### ls

查看目录下的文件 - list directory contents

选项：

* 显示详细文件格式 -l 
* 显示全部文件（包含隐藏文件） -a 
* 照最后修改的日期倒序排列 -t 

选项可以合并使用，例：ls -la、ll

对于命令的帮助查询 man 或者 --help
输入 man ls （需要再输入q去结束）
或者 ls --help 

一般情况下选项中

-f (--force)强制
-r (--recursive)递归

### manual_page

| 功能                        | 按键          |
| ------------------------- | ----------- |
| 向 下 翻 一 页                 | 空格          |
| 向 下 翻 一 页                 | [Page Down] |
| 向 上 翻 一 页                 | [Page Up]   |
| 回到首页                      | [Home]      |
| 跳转到最末页                    | [End]       |
| 向“ 下” 搜 寻 string 这 个 字符 串 | /string     |
| 向“ 下” 搜 寻                 | n           |
| 向“ 上” 搜 寻                 | N           |
| 结 束 这 次 的 man page        | q           |



### useradd

useradd命令用于Linux中创建的新的系统用户。useradd可用来建立用户帐号。帐号建好之后，再用passwd设定帐号的密码．而可用userdel删除帐号。使用useradd指令所建立的帐号，实际上是保存在`/etc/passwd`文本文件中。 

**选项**

-c<备注>：加上备注文字。备注文字会保存在passwd的备注栏位中；

-d<登入目录>：指定用户登入时的启始目录；

-D：变更预设值； 

-e<有效期限>：指定帐号的有效期限； 

-f<缓冲天数>：指定在密码过期后多少天即关闭该帐号；

-g<群组>：指定用户所属的群组； 

-G<群组>：指定用户所属的附加群组；

-m：自动建立用户的登入目录； 

-M：不要自动建立用户的登入目录； 

-n：取消建立以用户名称为名的群组； 

-r：建立系统帐号； 

-s：指定用户登入后所使用的shell；

-u：指定用户id。

### 常用指令

| 功能                                       | 指令      |
| ---------------------------------------- | ------- |
| 查看当前目录的绝对路径(print name of current/working directory) | pwd     |
| 切换当前工作目录(Change  the  current directory to dir) | cd      |
| 创建目录(make directories)                   | mkdir   |
| 创建文件或者更新文件(change file timestamps)       | touch   |
| 复制文件和目录(copy files and directories)      | cp      |
| 删除文件或目录(remove files or directories)     | rm      |
| 移动文件或重命名文件(move or rename files)         | mv      |
| 查看文件并打印到标准输出(concatenate files and print on the standard output) | cat     |
| 从最后一行开始查看到第一行(concatenate and print files in reverse) | tac     |
| 输出文件的第一部分(默认前10行)(output the first part of files) | head    |
| 输出文件的最后部分(默认后10行)(output the last part of files) | tail    |
| 持续输出文件的最后部分                              | tail -f |
|                                          |         |



### Linux管道

将一个命令的标准输出作为另一个命令的标准输入。也就是把几个命令组合起来使用，后一个命令除以前一个命令的结果。

例：grep -r "close" /home/* | more       在home目录下所有文件中查找，包括close的文件，并分页输出。



### 打包压缩相关命令

tar:                打包压缩

​     -c              归档文件

​     -x              压缩文件

​     -z              gzip压缩文件

​     -j              bzip2压缩文件

​     -v              显示压缩或解压缩过程 v(view)

​     -f              使用档名

例：

tar -cvf /home/abc.tar /home/abc              只打包，不压缩

tar -zcvf /home/abc.tar.gz /home/abc        打包，并用gzip压缩

tar -jcvf /home/abc.tar.bz2 /home/abc      打包，并用bzip2压缩

当然，如果想解压缩，就直接替换上面的命令tar -cvf、tar -zcvf、tar -jcvf 中的“c” 换成“x” 就可以了。

### 文件权限管理

三种基本权限

R           读         数值表示为4

W          写         数值表示为2

X           可执行  数值表示为1

|      | 内容        | r      | w      | x        |
| ---- | --------- | ------ | ------ | -------- |
| 文件   | 实际含有数据的地方 | 读到文件内容 | 修改文件内容 | 执行文件内容   |
| 目录   | 记录文件名     | 读到文件名  | 修改文件名  | 进入该目录的权限 |

-rwxrw-r--一共十个字符，分成四段。

第一个字符“-”表示普通文件；这个位置还可能会出现“l”链接；“d”表示目录

第二三四个字符“rwx”表示当前所属用户的权限。

第五六七个字符“rw-”表示当前所属组的权限。

第八九十个字符“r--”表示其他用户权限。

chmod 744 jdk-7u21-linux-i586.tar.gz



### vim使用

vim三种模式：命令模式、插入模式、编辑模式。使用ESC或i或：来切换模式。

命令模式下：

:q                      退出

:q!                     强制退出

:wq                   保存并退出

:set nu     显示行号

:set nonu  隐藏行号

/seach            在文档中查找seach 按n跳到下一个，shift+n上一个

yyp                   复制光标所在行，并粘贴

h(左移一个字符←)、j(下一行↓)、k(上一行↑)、l(右移一个字符→)

* 一般指令模式

| 按键                   | 说明                                       |
| -------------------- | ---------------------------------------- |
| Ctrl+f               | 向上翻页                                     |
| Ctrl+b               | 向下翻页                                     |
| 0或home键              | 光标移至行首                                   |
| $或END键               | 光标移至行末                                   |
| G                    | 文章最末。n+G为移至n行，n为数字                       |
| gg                   | 移到这个文件的第一列                               |
| n+\<Enter>           | n为数字。光标向下移动n列(注：不是移动至n行)                 |
| /word                | 向光标之下寻找一个名称为word的字符                      |
| :1,$s/word1/word2/gc | 从第一列到最末页查找word1字符并替换为word2,并提示是否(confirm)确认取代 |
| x,X                  | x为向后删一个字符,X为向前删一个字符                      |
| dd                   | 删除光标所在的那一整列                              |
| ndd                  | n为数字。删除光标所在的向下的n列。(所在行为第一行)              |
| yy                   | 复制光标所在的一整列                               |
| nyy                  | n为数字。复制光标所在的向下的n列。                       |
| p,P                  | p粘贴在光标下一列。P粘贴在光标上一列。                     |
| u                    | 复原前一个动作。                                 |
| [Ctrl]+r             | 重做上一个动作。                                 |
| .                    | 重复前一个动作。                                 |

* 切换至编辑模式

| 按键   | 说明                                  |
| ---- | ----------------------------------- |
| i，I  | i-在光标处插入，I-在光标所在列第一个非空白字符处开始插入      |
| a，A  | a-在光标下个字符处插入，A-在光标所在列最后一个字符处插入      |
| o，O  | o-在光标下一列插入，O-在光标上一列插入               |
| r，R  | r-取代光标处字符一次，R-一直取代光标所在字符处，直到按下EXC为止 |

按Esc回到一般命令模式

* 切换至命令行模式

| 按键      | 说明         |
| ------- | ---------- |
| :w      | 将编辑的内容写入文件 |
| :q      | 退出vi       |
| :wq     | 保存并退出      |
| :set nu | 显示行号       |