---
title: 性能测试学习手册
tags:
- test
---
## 专有术语
**QPS** :
每秒查询率(Query Per Second) ,每秒的响应请求数，也即是最大吞吐能力。
QPS = req/sec = 请求数/秒
QPS统计方式 [一般使用 http_load 进行统计]
QPS = 总请求数 / ( 进程总数 * 请求时间 )
QPS: 单个进程每秒请求服务器的成功次数

峰值QPS :
原理：每天80%的访问集中在20%的时间里，这20%时间叫做峰值时间
公式：( 总PV数 * 80% ) / ( 每天秒数 * 20% ) = 峰值时间每秒请求数(QPS)

<!--more-->

HPS（Hits Per Second） ：每秒点击次数，单位是次/秒。

TPS（Transaction per Second）：系统每秒处理交易数，单位是笔/秒。

对于互联网业务中，如果某些业务有且仅有一个请求连接，那么TPS=QPS=HPS，一般情况下用TPS来衡量整个业务流程，用QPS来衡量接口查询次数，用HPS来表示对服务器点击请求。

**PV** :
访问量即Page View, 即页面浏览量或点击量，用户每次刷新即被计算一次
单台服务器每天PV计算
公式1：每天总PV = QPS * 3600 * 6
公式2：每天总PV = QPS * 3600 * 8

**UV** :
独立访客即Unique Visitor,访问您网站的一台电脑客户端为一个访客。00:00-24:00内相同的客户端只被计算一次

**服务器数量** ：
机器：峰值时间每秒QPS / 单台机器的QPS = 需要的机器
机器：ceil( 每天总PV / 单台服务器每天总PV )

**并发数** ：
并发用户数是指系统可以同时承载的正常使用系统功能的用户的数量

**吐吞量** ：
吞吐量是指系统在单位时间内处理请求的数量

**响应时间（RT)** :
响应时间是指系统对请求作出响应的时间

例子：
每天300w PV 的在单台机器上，这台机器需要多少QPS？
答：( 3000000 * 0.8 ) / (86400 * 0.2 ) = 139 (QPS)
如果一台机器的QPS是58，需要几台机器来支持？
答：139 / 58 = 3

## 行业标准

**交易响应时间** ：系统稳定运行时间段内，同一交易的平均响应时间。 

对于在线交易：

* 互联网企业：500毫秒以下，例如淘宝业务10毫秒左右。
* 金融企业：1秒以下为佳，部分复杂业务3秒以下。
* 保险企业：3秒以下为佳。
* 制造业：5秒以下为佳。

**系统处理能力** ：系统在利用系统硬件平台和软件平台进行信息处理的能力。

一般情况下：

* 金融行业：1000TPS~9000TPS
* 保险行业：100TPS~1000TPS
* 制造行业：10TPS~50TPS
* 互联网电子商务：10000TPS~100000TPS,例如天猫5万TPS
* 互联网中型网站：100TPS~500TPS
* 互联网小型网站: 50TPS~100TPS

**并发用户数** ：在同一时刻内，登录系统并进行业务操作的用户数量。

一般情况下，性能测试是将系统处理能力容量测出来，而不是测试并发用户数，除了服务器长连接可能影响并发用户数外，系统处理能力不受并发用户数影响。

**错误率** ：错误率指系统在负载情况下，失败交易的概率。错误率＝(失败交易数/交易总数)*100%。稳定性较好的系统，其错误率应该由超时引起，即为超时率。

一般情况下，错误率不超出千分之六，即成功率不低于99.4%

